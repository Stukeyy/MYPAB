(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61dd8975"],{"0e32":function(e,t,a){},2239:function(e,t,a){"use strict";a("6d07")},"6d07":function(e,t,a){},8354:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"container"}},[a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("h1",[e._v("Add Event")])]),a("el-col",{attrs:{xs:24,sm:24,lg:12}})],1),a("br"),a("br"),a("el-row",{attrs:{gutter:32}},[a("AddEventForm",{attrs:{tags:e.tags},on:{formComplete:e.addEvent}})],1),a("br"),a("br")],1)},n=[],s=a("ebd1"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addEventFormContainer"}},[a("el-row",{attrs:{gutter:32}},[a("el-form",{ref:"eventForm",attrs:{model:e.eventForm,rules:e.eventRules}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"name"},model:{value:e.eventForm.name,callback:function(t){e.$set(e.eventForm,"name",t)},expression:"eventForm.name"}})],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Tag",prop:"tag_id"}},[a("br"),a("el-select",{staticClass:"tagSelector",attrs:{placeholder:"tag"},model:{value:e.eventForm.tag_id,callback:function(t){e.$set(e.eventForm,"tag_id",t)},expression:"eventForm.tag_id"}},e._l(e.tags,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("br"),a("br"),e.allDay?e._e():a("div",[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Start Time",prop:"start_time"}},[a("br"),a("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"09:00","picker-options":e.startTimePickerOptions,format:"HH:mm","value-format":"HH:mm",clearable:!0,"default-value":e.defaultStartTime,disabled:e.allDay},on:{change:e.updateEndTimeOptions},model:{value:e.eventForm.start_time,callback:function(t){e.$set(e.eventForm,"start_time",t)},expression:"eventForm.start_time"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"End Time",prop:"end_time"}},[a("br"),a("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"17:00","picker-options":e.endTimePickerOptions,format:"HH:mm","value-format":"HH:mm",clearable:!0,"default-value":e.defaultEndTime,disabled:e.allDay},on:{change:e.updateStartTimeOptions},model:{value:e.eventForm.end_time,callback:function(t){e.$set(e.eventForm,"end_time",t)},expression:"eventForm.end_time"}})],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Start Date",prop:"start_date_object"}},[a("br"),a("el-date-picker",{staticClass:"dateSelector",attrs:{placeholder:"01/01/2020",format:"dd/MM/yyyy","picker-options":e.startDatePickerOptions,clearable:!0},on:{change:e.updateDefaultEndDate},model:{value:e.eventForm.start_date_object,callback:function(t){e.$set(e.eventForm,"start_date_object",t)},expression:"eventForm.start_date_object"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"End Date",prop:"end_date_object"}},[a("br"),a("el-date-picker",{staticClass:"dateSelector",attrs:{placeholder:"31/12/2020",format:"dd/MM/yyyy","picker-options":e.endDatePickerOptions,clearable:!0,"default-value":e.defaultEndDate},model:{value:e.eventForm.end_date_object,callback:function(t){e.$set(e.eventForm,"end_date_object",t)},expression:"eventForm.end_date_object"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",[a("br"),a("el-button",{staticClass:"allDayBtn",attrs:{type:"primary"},on:{click:function(t){return e.eventAllDay()}}},[e._v(" All Day ")]),a("el-button",{staticClass:"addBtn",attrs:{type:"success"},on:{click:function(t){return e.addEvent()}}},[e._v("Create")]),a("el-button",{staticClass:"backBtn",attrs:{type:"danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Back")])],1)],1)],1)],1),a("br"),a("br")],1)},o=[],l={name:"AddEventForm",props:{tags:{type:Array,default:function(){return["Work","Life"]}}},data:function(){return{eventForm:{name:"",tag_id:"",start_time:"",end_time:"",all_day:!1,start_date_object:"",end_date_object:"",start_date:"",end_date:""},eventRules:{name:[{required:!0,trigger:"blur"}],tag_id:[{required:!0,trigger:["blur","change"]}],start_time:[{required:!0,trigger:["blur"]}],end_time:[{required:!0,trigger:["blur"]}],start_date_object:[{required:!0,trigger:["blur","change"]}],end_date_object:[{required:!0,trigger:["blur","change"]}]},allDay:!1,startTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",maxTime:""},endTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",minTime:""},defaultStartTime:"10:00",defaultEndTime:"",defaultEndDate:"",startDatePickerOptions:{disabledDate:this.disabledStartDates,firstDayOfWeek:1},endDatePickerOptions:{disabledDate:this.disabledEndDates,firstDayOfWeek:1},loadingTags:!0}},computed:{},watch:{},created:function(){},methods:{eventAllDay:function(){this.allDay?(this.allDay=!1,this.eventForm.all_day=!1,this.eventForm.start_time="",this.eventForm.end_time=""):this.allDay||(this.allDay=!0,this.eventForm.all_day=!0,this.eventForm.start_time=null,this.eventForm.end_time=null)},updateEndTimeOptions:function(e){this.endTimePickerOptions.start=e,this.endTimePickerOptions.minTime=this.eventForm.start_time},updateStartTimeOptions:function(e){this.startTimePickerOptions.end=e,this.startTimePickerOptions.maxTime=this.eventForm.end_time},updateDefaultEndDate:function(e){this.defaultEndDate=e},disabledEndDates:function(e){if(""!==this.eventForm.start_date_object)return e.getTime()<this.eventForm.start_date_object.getTime()},disabledStartDates:function(e){if(""!==this.eventForm.end_date_object)return e.getTime()>this.eventForm.end_date_object.getTime()},addEvent:function(){var e=this;this.$refs.eventForm.validate((function(t){if(!t)return e.$message.error("Please Complete Form"),!1;e.loading=!0,e.eventForm.start_date=e.eventForm.start_date_object.toLocaleDateString(),e.eventForm.end_date=e.eventForm.end_date_object.toLocaleDateString(),e.$emit("formComplete",e.eventForm),e.loading=!1}))}}},d=l,c=(a("9cac"),a("2877")),m=Object(c["a"])(d,i,o,!1,null,"388a4b1e",null),u=m.exports,v={name:"AddEvent",components:{AddEventForm:u},data:function(){return{type:"add",eventForm:"",tags:[],loadingTags:!0}},computed:{},watch:{},created:function(){this.getTags()},methods:{getTags:function(){var e=this;Object(s["F"])(this.type).then((function(t){e.tags=t.data,e.loadingTags=!1})).catch((function(t){e.loadingTags=!1,e.$message.error(t),console.log(t)}))},addEvent:function(e){var t=this;this.eventForm=e,Object(s["c"])(this.eventForm).then((function(e){t.$message.success("Event Added Successfully"),t.$router.go(-1)})).catch((function(e){t.$message.error("Error Adding Event"),console.log(e.response)}))}}},p=v,f=(a("2239"),Object(c["a"])(p,r,n,!1,null,"30f481f4",null));t["default"]=f.exports},"9cac":function(e,t,a){"use strict";a("0e32")}}]);