(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-277aa0c6"],{"27f3":function(t,a,e){"use strict";e("c55e")},c55e:function(t,a,e){},fdb7:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"container"}},[e("el-row",{attrs:{gutter:32}},[e("el-col",{attrs:{xs:24,sm:24,lg:12}},[e("h1",[t._v("Tags")])]),e("el-col",{attrs:{xs:24,sm:24,lg:12}},[e("el-button",{staticClass:"addBtn",attrs:{type:"success"},on:{click:function(a){return t.addTag()}}},[t._v("Add")])],1)],1),e("br"),e("br"),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTags,expression:"loadingTags"}],ref:"tags",staticStyle:{width:"100%"},attrs:{data:t.paginatedTags}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v("Children: "+t._s(a.row.children.length))])]}}])}),e("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.id)+" ")]}}])}),e("el-table-column",{attrs:{prop:"tag",label:"Tag",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(" "+t._s(a.row.name)+" ")]}}])}),e("el-table-column",{attrs:{prop:"colour",label:"Colour",align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-color-picker",{staticClass:"colourPicker",on:{change:function(e){return t.updateTagColour(a.row.id,a.row.colour)}},model:{value:a.row.colour,callback:function(e){t.$set(a.row,"colour",e)},expression:"scope.row.colour"}})]}}])}),e("el-table-column",{attrs:{prop:"actions",label:"Actions",width:"750",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticClass:"viewTag",attrs:{type:"primary"},on:{click:function(e){return t.viewTag(a.row.id)}}},[t._v("View")]),e("el-button",{staticClass:"updateTag",attrs:{type:"primary",disabled:"Work"===a.row.name||"Life"===a.row.name},on:{click:function(e){return t.updateTag(a.row.id)}}},[t._v("Update")]),e("el-button",{staticClass:"deleteTag",attrs:{type:"danger",disabled:"Work"===a.row.name||"Life"===a.row.name},on:{click:function(e){return t.deleteTag(a.row.id)}}},[t._v("Delete")])]}}])})],1)],1)],1),e("br"),e("br"),e("el-pagination",{attrs:{background:"","page-size":t.pagination.tagsPerPage,layout:"prev, pager, next",total:t.pagination.totalTags,"current-page":t.pagination.currentPage},on:{"current-change":t.newPage}})],1)},o=[],s=e("ebd1"),r={name:"Tags",components:{},data:function(){return{type:"table",loadingTags:!0,paginatedTags:[],pagination:{}}},computed:{},watch:{},created:function(){this.getTags()},methods:{getTags:function(){var t=this;Object(s["F"])(this.type).then((function(a){console.log(a),t.paginatedTags=a.data.data,t.pagination=a.data.pagination,t.loadingTags=!1})).catch((function(a){t.loadingTags=!1,t.$message.error(a),console.log(a)}))},updateTagColour:function(t,a){var e=this;Object(s["T"])(t,a).then((function(t){e.$message.success("Tag Updated successfully")})).catch((function(t){e.$message.error(t)}))},deleteTag:function(t){var a=this;this.loadingTags=!0,Object(s["m"])(t).then((function(t){a.$message.success("Tag and Descendants Deleted Successfully"),console.log(t)})).catch((function(t){a.$message.danger("Error Deleting Tag"),console.log(t.response)})),this.getTags()},addTag:function(){this.$router.push("/tags/add")},viewTag:function(t){this.$router.push("/tags/view?tagID="+t)},updateTag:function(t){this.$router.push("/tags/update?tagID="+t)},newPage:function(t){var a=this;console.log(t);var e=this.pagination.pageUrls[t-1];Object(s["C"])(e).then((function(t){console.log(t),a.paginatedTags=t.data.data,a.pagination=t.data.pagination,a.loadingTags=!1})).catch((function(t){console.log(t),a.loadingTags=!1}))}}},i=r,l=(e("27f3"),e("2877")),c=Object(l["a"])(i,n,o,!1,null,"e8eba0b6",null);a["default"]=c.exports}}]);