(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ab5acd0"],{"08eb":function(e,t,r){"use strict";r("5536")},3617:function(e,t,r){},"454a":function(e,t,r){},5536:function(e,t,r){},8205:function(e,t,r){"use strict";r("3617")},ad01:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"container"}},[r("el-row",{attrs:{gutter:32}},[r("el-col",{attrs:{xs:24,sm:24,lg:12}},[r("h1",[e._v("Update Event")])]),r("el-col",{attrs:{xs:24,sm:24,lg:12}})],1),r("br"),r("br"),r("el-row",{attrs:{gutter:32}},[r("UpdateEventForm",{attrs:{tags:e.tags,"event-form":e.eventForm},on:{formComplete:e.updateEvent}})],1),r("br"),r("br")],1)},a=[],s=r("ebd1"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"updateEventFormContainer"}},[r("el-row",{attrs:{gutter:32}},[r("el-form",{ref:"eventForm",attrs:{model:e.eventForm,rules:e.eventRules}},[r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"Name",prop:"name"}},[r("el-input",{attrs:{placeholder:"name"},model:{value:e.eventForm.name,callback:function(t){e.$set(e.eventForm,"name",t)},expression:"eventForm.name"}})],1)],1),r("br"),r("br"),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"Tag",prop:"tag_id"}},[r("br"),r("el-select",{staticClass:"tagSelector",attrs:{placeholder:"tag"},model:{value:e.eventForm.tag_id,callback:function(t){e.$set(e.eventForm,"tag_id",t)},expression:"eventForm.tag_id"}},e._l(e.tags,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),r("br"),r("br"),e.eventForm.all_day?e._e():r("div",[r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"Start Time",prop:"start_time"}},[r("br"),r("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"09:00","picker-options":e.startTimePickerOptions,"default-value":e.defaultStartTime,format:"HH:mm","value-format":"HH:mm",clearable:!0},on:{change:e.updateEndTimeOptions},model:{value:e.eventForm.start_time,callback:function(t){e.$set(e.eventForm,"start_time",t)},expression:"eventForm.start_time"}})],1)],1),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"End Time",prop:"end_time"}},[r("br"),r("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"17:00","picker-options":e.endTimePickerOptions,format:"HH:mm","value-format":"HH:mm",clearable:!0},on:{change:e.updateStartTimeOptions},model:{value:e.eventForm.end_time,callback:function(t){e.$set(e.eventForm,"end_time",t)},expression:"eventForm.end_time"}})],1)],1)],1),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"Date",prop:"start_date"}},[r("br"),r("el-date-picker",{staticClass:"dateSelector",attrs:{placeholder:"01/01/2020",format:"dd/MM/yyyy","picker-options":e.startDatePickerOptions,clearable:!0},model:{value:e.eventForm.start_date_object,callback:function(t){e.$set(e.eventForm,"start_date_object",t)},expression:"eventForm.start_date_object"}})],1)],1),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",{attrs:{label:"Notes",prop:"notes"}},[r("br"),r("el-input",{attrs:{type:"textarea",rows:4,placeholder:"Event Notes"},model:{value:e.eventForm.notes,callback:function(t){e.$set(e.eventForm,"notes",t)},expression:"eventForm.notes"}})],1)],1),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("h4",{attrs:{id:"checklistLabel"}},[e._v(" Checklist: ")]),r("Checklist",{attrs:{checklist:e.eventForm.checklist},on:{"add-checklist":function(t){e.eventForm.checklist=t}}})],1),r("el-col",{attrs:{xs:24,sm:24,lg:24}},[r("el-form-item",[r("br"),r("el-button",{staticClass:"allDayBtn",attrs:{type:"primary"},on:{click:function(t){return e.eventAllDay()}}},[e._v(" All Day ")]),r("el-button",{staticClass:"updateBtn",attrs:{type:"primary"},on:{click:function(t){return e.updateEvent()}}},[e._v("Update")]),r("el-button",{staticClass:"backBtn",attrs:{type:"danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Back")])],1)],1)],1)],1),r("br"),r("br")],1)},i=[],l=(r("159b"),r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"checklistContainer"}},[e._l(e.checklist,(function(t){return r("div",{key:t.key},[r("el-form-item",[r("el-input",{staticClass:"check-input",attrs:{placeholder:"check"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"check.value"}}),r("span",{staticClass:"remove-check",on:{click:function(r){return e.removeCheck(t)}}},[r("i",{staticClass:"el-icon-close"})])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"check.error"}]},[r("p",{staticClass:"checkError"},[e._v("Please enter a valid check")])])],1)})),r("br"),r("el-button",{staticClass:"addCheckBtn",attrs:{type:"primary"},on:{click:function(t){return e.checkChecklist()}}},[e._v("Add Check")])],2)}),c=[],m={name:"Checklist",props:{checklist:{type:Array,default:function(){return[{key:0,value:"",error:!1}]}},addCheck:{type:Boolean}},data:function(){return{loading:!1}},computed:{},watch:{},created:function(){},methods:{checkChecklist:function(){this.checklist.forEach((function(e){""===e.value?e.error=!0:e.error=!1})),this.checklist.some((function(e){return!0===e.error}))||this.checklist.push({key:Date.now(),value:"",error:!1})},removeCheck:function(e){var t=this.checklist.indexOf(e);this.checklist.splice(t,1)}}},u=m,d=(r("f852"),r("2877")),v=Object(d["a"])(u,l,c,!1,null,"46bdbbe0",null),p=v.exports,h={name:"UpdateEventForm",components:{Checklist:p},props:{tags:{type:Array,default:function(){return["Work","Life"]}},eventForm:{type:Object,default:function(){return{}}}},data:function(){return{eventRules:{name:[{required:!0,trigger:"blur"}],tag_id:[{required:!0,trigger:["blur","change"]}],start_time:[{required:!0,trigger:["blur"]}],end_time:[{required:!0,trigger:["blur"]}],start_date:[{required:!0,trigger:["blur","change"]}]},defaultStartTime:"10:00",startTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",maxTime:""},endTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",minTime:""},startDatePickerOptions:{firstDayOfWeek:1},loadingTags:!0,addCheck:!1}},computed:{},watch:{},created:function(){},methods:{eventAllDay:function(){this.eventForm.all_day?(this.eventForm.all_day=!1,this.eventForm.start_time="",this.eventForm.end_time=""):this.eventForm.all_day||(this.eventForm.all_day=!0,this.eventForm.start_time=null,this.eventForm.end_time=null)},updateEndTimeOptions:function(e){this.endTimePickerOptions.start=e,this.endTimePickerOptions.minTime=this.eventForm.start_time,this.eventForm.start_time>this.eventForm.end_time&&(this.eventForm.end_time="")},updateStartTimeOptions:function(e){this.startTimePickerOptions.end=e,this.startTimePickerOptions.maxTime=this.eventForm.end_time,this.eventForm.end_time<this.eventForm.start_time&&(this.eventForm.start_time="")},updateEvent:function(){var e=this;this.$refs.eventForm.validate((function(t){if(!t)return e.$message.error("Please Complete Form"),!1;e.loading=!0,e.eventForm.start_date=e.eventForm.start_date_object.toLocaleDateString(),e.eventForm.end_date=e.eventForm.start_date,e.eventForm.checklist.forEach((function(t,r){""===t.value?e.eventForm.checklist.splice(r,1):void 0===t.completed&&(t.completed=!1)})),e.$emit("formComplete",e.eventForm),e.loading=!1}))}}},f=h,k=(r("08eb"),Object(d["a"])(f,o,i,!1,null,"99a0b88e",null)),g=k.exports,b={name:"UpdateEvent",components:{UpdateEventForm:g},data:function(){return{type:"update",eventID:"",eventForm:{},tags:[],loadingTags:!0}},computed:{},watch:{},created:function(){this.eventID=this.$route.query.eventID,this.getEvent(),this.getTags()},methods:{getEvent:function(){var e=this;Object(s["w"])(this.eventID,this.type).then((function(t){console.log(t),e.eventForm=t.data,e.eventForm.start_date_object=new Date(t.data.start_date),e.eventForm.checklist.push({key:0,value:"",error:!1})})).catch((function(t){e.$message.error("Error Getting Event"),console.log(t)}))},getTags:function(){var e=this;Object(s["F"])(this.type).then((function(t){e.tags=t.data,e.loadingTags=!1})).catch((function(t){e.loadingTags=!1,e.$message.error(t),console.log(t)}))},updateEvent:function(e){var t=this;this.eventForm=e,Object(s["Q"])(this.eventForm).then((function(e){t.$message.success("Event Updated Successfully"),t.$router.go(-1)})).catch((function(e){t.$message.error("Error Updating Event"),console.log(e.response)}))}}},_=b,F=(r("8205"),Object(d["a"])(_,n,a,!1,null,"e4ec6d86",null));t["default"]=F.exports},f852:function(e,t,r){"use strict";r("454a")}}]);