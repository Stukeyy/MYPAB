(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f7c128f"],{"119d":function(t,e,a){"use strict";a("159d")},"159d":function(t,e,a){},"1c0b5":function(t,e,a){},b6f9:function(t,e,a){"use strict";a.r(e);var m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("h1",[t._v("Add Commitment")])]),a("el-col",{attrs:{xs:24,sm:24,lg:12}})],1),a("br"),a("br"),a("el-row",{attrs:{gutter:32}},[a("AddCommitmentForm",{attrs:{tags:t.tags},on:{formComplete:t.addCommitment}})],1),a("br"),a("br")],1)},r=[],o=a("ebd1"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"addCommitmentFormContainer"}},[a("el-row",{attrs:{gutter:32}},[a("el-form",{ref:"commitmentForm",attrs:{model:t.commitmentForm,rules:t.commitmentRules}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"name"},model:{value:t.commitmentForm.name,callback:function(e){t.$set(t.commitmentForm,"name",e)},expression:"commitmentForm.name"}})],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Tag",prop:"tag_id"}},[a("br"),a("el-select",{staticClass:"tagSelector",attrs:{placeholder:"tag"},model:{value:t.commitmentForm.tag_id,callback:function(e){t.$set(t.commitmentForm,"tag_id",e)},expression:"commitmentForm.tag_id"}},t._l(t.tags,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Occurance",prop:"occurance"}},[a("br"),a("el-select",{staticClass:"occuranceSelector",attrs:{placeholder:"occurance"},model:{value:t.commitmentForm.occurance,callback:function(e){t.$set(t.commitmentForm,"occurance",e)},expression:"commitmentForm.occurance"}},[a("el-option",{attrs:{label:"Daily",value:"daily"}}),a("el-option",{attrs:{label:"Weekly",value:"weekly"}}),a("el-option",{attrs:{label:"Fortnightly",value:"fortnightly"}}),a("el-option",{attrs:{label:"Monthly",value:"monthly"}})],1)],1)],1),a("br"),a("br"),"daily"!==t.commitmentForm.occurance?a("div",[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Day",prop:"day"}},[a("br"),a("el-select",{staticClass:"daySelector",attrs:{placeholder:"day"},model:{value:t.commitmentForm.day,callback:function(e){t.$set(t.commitmentForm,"day",e)},expression:"commitmentForm.day"}},[a("el-option",{attrs:{label:"Monday",value:"monday"}}),a("el-option",{attrs:{label:"Tuesday",value:"tuesday"}}),a("el-option",{attrs:{label:"Wednesday",value:"wednesday"}}),a("el-option",{attrs:{label:"Thursday",value:"thursday"}}),a("el-option",{attrs:{label:"Friday",value:"friday"}}),a("el-option",{attrs:{label:"Saturday",value:"saturday"}}),a("el-option",{attrs:{label:"Sunday",value:"sunday"}})],1)],1)],1),a("br"),a("br")],1):t._e(),t.allDay?t._e():a("div",[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Start Time",prop:"start_time"}},[a("br"),a("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"09:00","picker-options":t.startTimePickerOptions,format:"HH:mm","value-format":"HH:mm",clearable:!0,"default-value":t.defaultStartTime},on:{change:t.updateEndTimeOptions},model:{value:t.commitmentForm.start_time,callback:function(e){t.$set(t.commitmentForm,"start_time",e)},expression:"commitmentForm.start_time"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"End Time",prop:"end_time"}},[a("br"),a("el-time-select",{staticClass:"timeSelector",attrs:{placeholder:"17:00","picker-options":t.endTimePickerOptions,format:"HH:mm","value-format":"HH:mm",clearable:!0,"default-value":t.defaultEndTime},on:{change:t.updateStartTimeOptions},model:{value:t.commitmentForm.end_time,callback:function(e){t.$set(t.commitmentForm,"end_time",e)},expression:"commitmentForm.end_time"}})],1)],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Start Date",prop:"start_date_object"}},[a("br"),a("el-date-picker",{staticClass:"dateSelector",attrs:{placeholder:"01/01/2020",format:"dd/MM/yyyy","picker-options":t.startDatePickerOptions,clearable:!0},on:{change:t.updateDefaultEndDate},model:{value:t.commitmentForm.start_date_object,callback:function(e){t.$set(t.commitmentForm,"start_date_object",e)},expression:"commitmentForm.start_date_object"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"End Date",prop:"end_date_object"}},[a("br"),a("el-date-picker",{staticClass:"dateSelector",attrs:{placeholder:"31/12/2020",format:"dd/MM/yyyy","picker-options":t.endDatePickerOptions,clearable:!0,"default-value":t.defaultEndDate},model:{value:t.commitmentForm.end_date_object,callback:function(e){t.$set(t.commitmentForm,"end_date_object",e)},expression:"commitmentForm.end_date_object"}})],1)],1),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",[a("br"),a("el-button",{staticClass:"allDayBtn",attrs:{type:"primary"},on:{click:function(e){return t.commitmentAllDay()}}},[t._v(" All Day ")]),a("el-button",{staticClass:"addBtn",attrs:{type:"success"},on:{click:function(e){return t.addCommitment()}}},[t._v("Create")]),a("el-button",{staticClass:"backBtn",attrs:{type:"danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])],1)],1)],1)],1),a("br"),a("br")],1)},n=[],l={name:"AddCommitmentForm",components:{},props:{tags:{type:Array,default:function(){return["Work","Life"]}}},data:function(){return{commitmentForm:{name:"",tag_id:"",occurance:"",day:"",start_time:"",end_time:"",all_day:!1,start_date_object:"",end_date_object:"",start_date:"",end_date:""},commitmentRules:{name:[{required:!0,trigger:"blur"}],tag_id:[{required:!0,trigger:["blur","change"]}],occurance:[{required:!0,trigger:["blur","change"]}],day:[{required:!0,trigger:["blur","change"]}],start_time:[{required:!0,trigger:["blur","change"]}],end_time:[{required:!0,trigger:["blur","change"]}],start_date_object:[{required:!0,trigger:["blur","change"]}],end_date_object:[{required:!0,trigger:["blur","change"]}]},allDay:!1,startTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",maxTime:""},endTimePickerOptions:{start:"05:00",step:"00:15",end:"23:00",minTime:""},defaultStartTime:"10:00",defaultEndTime:"",defaultEndDate:"",startDatePickerOptions:{disabledDate:this.disabledStartDates,firstDayOfWeek:1},endDatePickerOptions:{disabledDate:this.disabledEndDates,firstDayOfWeek:1},loadingTags:!0}},computed:{},watch:{},created:function(){},methods:{commitmentAllDay:function(){this.allDay?(this.allDay=!1,this.commitmentForm.all_day=!1,this.commitmentForm.start_time="",this.commitmentForm.end_time=""):this.allDay||(this.allDay=!0,this.commitmentForm.all_day=!0,this.commitmentForm.start_time=null,this.commitmentForm.end_time=null)},updateEndTimeOptions:function(t){this.endTimePickerOptions.start=t,this.endTimePickerOptions.minTime=this.commitmentForm.start_time},updateStartTimeOptions:function(t){this.startTimePickerOptions.end=t,this.startTimePickerOptions.maxTime=this.commitmentForm.end_time},updateDefaultEndDate:function(t){this.defaultEndDate=t},disabledEndDates:function(t){if(""!==this.commitmentForm.start_date_object)return t.getTime()<this.commitmentForm.start_date_object.getTime()},disabledStartDates:function(t){if(""!==this.commitmentForm.end_date_object)return t.getTime()>this.commitmentForm.end_date_object.getTime()},addCommitment:function(){var t=this;this.$refs.commitmentForm.validate((function(e){if(!e)return t.$message.error("Please Complete Form"),!1;t.loading=!0,t.commitmentForm.day="daily"===t.commitmentForm.occurance?null:t.commitmentForm.day,t.commitmentForm.start_date=t.commitmentForm.start_date_object.toLocaleDateString(),t.commitmentForm.end_date=t.commitmentForm.end_date_object.toLocaleDateString(),t.$emit("formComplete",t.commitmentForm),t.loading=!1}))}}},s=l,c=(a("ba91"),a("2877")),d=Object(c["a"])(s,i,n,!1,null,"1ba9e0f1",null),u=d.exports,b={name:"AddCommitment",components:{AddCommitmentForm:u},data:function(){return{type:"add",commitmentForm:"",tags:[],loadingTags:!0}},computed:{},watch:{},created:function(){this.getTags()},methods:{getTags:function(){var t=this;Object(o["F"])(this.type).then((function(e){t.tags=e.data,t.loadingTags=!1})).catch((function(e){t.loadingTags=!1,t.$message.error(e),console.log(e)}))},addCommitment:function(t){var e=this;this.commitmentForm=t,Object(o["b"])(this.commitmentForm).then((function(t){e.$message.success("Commitment Added Successfully"),e.$router.go(-1)})).catch((function(t){e.$message.error("Error Adding Commitment"),console.log(t.response)}))}}},p=b,f=(a("119d"),Object(c["a"])(p,m,r,!1,null,"5895619d",null));e["default"]=f.exports},ba91:function(t,e,a){"use strict";a("1c0b5")}}]);