(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84a4a69a"],{"4d8a":function(t,e,a){},"5c33":function(t,e,a){"use strict";a("840d")},"840d":function(t,e,a){},d84f:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("h1",[t._v("Update Tag")])]),a("el-col",{attrs:{xs:24,sm:24,lg:12}})],1),a("br"),a("br"),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTags,expression:"loadingTags"}],attrs:{gutter:20}},[a("UpdateTagForm",{attrs:{"tag-form":t.tagForm,tags:t.tags},on:{formComplete:t.updateTag}})],1),a("br"),a("br")],1)},o=[],n=a("ebd1"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"updateTagFormContainer"}},[a("el-row",{attrs:{gutter:32}},[a("el-form",{ref:"tagForm",attrs:{model:t.tagForm,rules:t.tagRules}},[a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"name"},model:{value:t.tagForm.name,callback:function(e){t.$set(t.tagForm,"name",e)},expression:"tagForm.name"}})],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Parent Tag",prop:"parent_id"}},[a("br"),a("el-select",{staticClass:"tagSelector",attrs:{placeholder:"parent tag"},model:{value:t.tagForm.parent_id,callback:function(e){t.$set(t.tagForm,"parent_id",e)},expression:"tagForm.parent_id"}},t._l(t.validParents,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",{attrs:{label:"Colour",prop:"colour"}},[a("br"),a("el-color-picker",{staticClass:"colourPicker",model:{value:t.tagForm.colour,callback:function(e){t.$set(t.tagForm,"colour",e)},expression:"tagForm.colour"}})],1)],1),a("br"),a("br"),a("el-col",{attrs:{xs:24,sm:24,lg:24}},[a("el-form-item",[a("br"),a("el-button",{staticClass:"updateTagButton",attrs:{type:"primary"},on:{click:t.updateTag}},[t._v("Update")]),a("el-button",{staticClass:"backBtn",attrs:{type:"danger"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])],1)],1)],1)],1),a("br"),a("br")],1)},l=[],i=(a("d3b7"),a("159b"),{name:"UpdateTagForm",props:{tagForm:{type:Object,default:function(){return{}}},tags:{type:Array,default:function(){return["Work","Life"]}}},data:function(){return{tagRules:{name:[{required:!0,trigger:"blur"}],parent_id:[{required:!0,trigger:["blur","change"]}],colour:[{required:!0,trigger:"blur"}]}}},computed:{validParents:function(){var t=this,e=[];return this.tags.forEach((function(a){t.tagForm.children.some((function(t){return t.id===a.id}))||t.tagForm.id===a.id||e.push(a)})),e}},watch:{},created:function(){},methods:{updateTag:function(){var t=this;this.$refs.tagForm.validate((function(e){if(!e)return t.$message.error("Please Complete Form"),!1;t.loading=!0,t.$emit("formComplete",t.tagForm),t.loadingTags=!1}))}}}),c=i,g=(a("5c33"),a("2877")),u=Object(g["a"])(c,s,l,!1,null,"6ea60dee",null),d=u.exports,m={name:"UpdateTag",components:{UpdateTagForm:d},data:function(){return{type:"form",loadingTags:!0,tagForm:{},tags:[]}},computed:{},watch:{},created:function(){this.tagID=this.$route.query.tagID,this.getTag(),this.getTags()},methods:{getTag:function(){var t=this;Object(n["E"])(this.tagID).then((function(e){console.log(e),t.tagForm=e.data.descendants,t.loadingTags=!1})).catch((function(e){console.log(e),t.loadingTags=!1}))},getTags:function(){var t=this;Object(n["F"])(this.type).then((function(e){t.tags=e.data})).catch((function(e){t.$message.error(e),console.log(e)}))},updateTag:function(t){var e=this;this.tagForm=t,Object(n["S"])(this.tagForm).then((function(t){console.log(t),e.$message.success("Tag Updated Successfully"),e.$router.push("/tags/index")})).catch((function(t){e.$message.error("Error Updating Tag"),console.log(t)}))}}},p=m,f=(a("f37f"),Object(g["a"])(p,r,o,!1,null,"07820c1c",null));e["default"]=f.exports},f37f:function(t,e,a){"use strict";a("4d8a")}}]);